<section class="stack-md">
  <article class="card pad stack-md">
    <div class="row">
      <h2 class="title">{{ 'projects.list.title' | translate }}</h2>
      <span class="pill">{{ 'projects.list.total' | translate:{ count: projectList().length } }}</span>
    </div>

    @if (!loading() && projectList().length === 0) {
      <p>{{ 'projects.list.empty' | translate }}</p>
    } @else {
      <div class="grid projects">
        @for (project of projectList(); track trackProject($index, project)) {
          <article class="project-card">
            <div>
              <p class="project-title">{{ project.title }}</p>
              <p class="project-meta">
                <span>{{ 'project.summary.start' | translate }}: {{ project.startDate.year }}/{{ project.startDate.month + 1 }}</span>
                <span>{{ 'project.summary.end' | translate }}: {{ project.endDate.year }}/{{ project.endDate.month + 1 }}</span>
              </p>
            </div>
            <div class="project-actions">
              <a class="btn ghost" [routerLink]="['..', 'project', project.uuid]">
                {{ 'projects.card.detail' | translate }}
              </a>
              <button class="btn danger" type="button" (click)="deleteProject(project.uuid)">
                {{ 'common.delete' | translate }}
              </button>
            </div>
          </article>
        }
      </div>
    }
  </article>

  <article class="card pad stack-md">
    <h2 class="title">{{ 'projects.create.title' | translate }}</h2>
    <p class="subtitle">{{ 'projects.create.subtitle' | translate }}</p>
    <app-project-form (edited)="createProject($event)"></app-project-form>
  </article>
</section>
